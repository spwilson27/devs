Pre-Persistence Redaction

This package protects free-form channel writes persisted to SQLite by applying SecretMasker before serialization.

Protected columns:
- checkpoint_writes.value (masked via SecretMasker)

Event API:
- Event: `secret-redacted`
- Payload: { table: string; column: string; hitCount: number; patterns: string[] }

Agentic Hook:
- Verify redaction by inspecting emitted `secret-redacted` events or by querying `checkpoint_writes` for `[REDACTED]` values after a write that handled sensitive content.

Security comments:
- SECURITY: checkpoint_writes.value is redacted via SecretMasker before persistence (see SqliteSaver.redactBeforeSave).
